import plugin from "tailwindcss/plugin";

const pixelClipPaths: Record<number, string> = {
  2: `polygon(
    0px calc(100% - 4px),
    4px calc(100% - 4px),
    4px 100%,
    calc(100% - 4px) 100%,
    calc(100% - 4px) calc(100% - 4px),
    100% calc(100% - 4px),
    100% 4px,
    calc(100% - 4px) 4px,
    calc(100% - 4px) 0px,
    4px 0px,
    4px 4px,
    0px 4px
  )`,
  4: `polygon(
      0px calc(100% - 8px),
      4px calc(100% - 8px),
      4px calc(100% - 4px),
      8px calc(100% - 4px),
      8px 100%,
      calc(100% - 8px) 100%,
      calc(100% - 8px) calc(100% - 4px),
      calc(100% - 4px) calc(100% - 4px),
      calc(100% - 4px) calc(100% - 8px),
      100% calc(100% - 8px),
      100% 8px,
      calc(100% - 4px) 8px,
      calc(100% - 4px) 4px,
      calc(100% - 8px) 4px,
      calc(100% - 8px) 0px,
      8px 0px,
      8px 4px,
      4px 4px,
      4px 8px,
      0px 8px
    )`,
  6: `polygon(
      0px calc(100% - 40px),
      10px calc(100% - 40px),
      10px calc(100% - 20px),
      20px calc(100% - 20px),
      20px calc(100% - 10px),
      40px calc(100% - 10px),
      40px 100%,
      calc(100% - 40px) 100%,
      calc(100% - 40px) calc(100% - 10px),
      calc(100% - 20px) calc(100% - 10px),
      calc(100% - 20px) calc(100% - 20px),
      calc(100% - 10px) calc(100% - 20px),
      calc(100% - 10px) calc(100% - 40px),
      100% calc(100% - 40px),
      100% 40px,
      calc(100% - 10px) 40px,
      calc(100% - 10px) 20px,
      calc(100% - 20px) 20px,
      calc(100% - 20px) 10px,
      calc(100% - 40px) 10px,
      calc(100% - 40px) 0px,
      40px 0px,
      40px 10px,
      20px 10px,
      20px 20px,
      10px 20px,
      10px 40px,
      0px 40px
      )`,
  8: `polygon(
        0px calc(100% - 50px),
        10px calc(100% - 50px),
        10px calc(100% - 30px),
        20px calc(100% - 30px),
        20px calc(100% - 20px),
        30px calc(100% - 20px),
        30px calc(100% - 10px),
        50px calc(100% - 10px),
        50px 100%,
        calc(100% - 50px) 100%,
        calc(100% - 50px) calc(100% - 10px),
        calc(100% - 30px) calc(100% - 10px),
        calc(100% - 30px) calc(100% - 20px),
        calc(100% - 20px) calc(100% - 20px),
        calc(100% - 20px) calc(100% - 30px),
        calc(100% - 10px) calc(100% - 30px),
        calc(100% - 10px) calc(100% - 50px),
        100% calc(100% - 50px),
        100% 50px,
        calc(100% - 10px) 50px,
        calc(100% - 10px) 30px,
        calc(100% - 20px) 30px,
        calc(100% - 20px) 20px,
        calc(100% - 30px) 20px,
        calc(100% - 30px) 10px,
        calc(100% - 50px) 10px,
        calc(100% - 50px) 0px,
        50px 0px,
        50px 10px,
        30px 10px,
        30px 20px,
        20px 20px,
        20px 30px,
        10px 30px,
        10px 50px,
        0px 50px
    )`,
  10: `polygon(
        0px calc(100% - 70px),
        10px calc(100% - 70px),
        10px calc(100% - 50px),
        20px calc(100% - 50px),
        20px calc(100% - 30px),
        30px calc(100% - 30px),
        30px calc(100% - 20px),
        50px calc(100% - 20px),
        50px calc(100% - 10px),
        70px calc(100% - 10px),
        70px 100%,
        calc(100% - 70px) 100%,
        calc(100% - 70px) calc(100% - 10px),
        calc(100% - 50px) calc(100% - 10px),
        calc(100% - 50px) calc(100% - 20px),
        calc(100% - 30px) calc(100% - 20px),
        calc(100% - 30px) calc(100% - 30px),
        calc(100% - 20px) calc(100% - 30px),
        calc(100% - 20px) calc(100% - 50px),
        calc(100% - 10px) calc(100% - 50px),
        calc(100% - 10px) calc(100% - 70px),
        100% calc(100% - 70px),
        100% 70px,
        calc(100% - 10px) 70px,
        calc(100% - 10px) 50px,
        calc(100% - 20px) 50px,
        calc(100% - 20px) 30px,
        calc(100% - 30px) 30px,
        calc(100% - 30px) 20px,
        calc(100% - 50px) 20px,
        calc(100% - 50px) 10px,
        calc(100% - 70px) 10px,
        calc(100% - 70px) 0px,
        70px 0px,
        70px 10px,
        50px 10px,
        50px 20px,
        30px 20px,
        30px 30px,
        20px 30px,
        20px 50px,
        10px 50px,
        10px 70px,
        0px 70px
    )`,
  14: `polygon(
        0px calc(100% - 100px),
        10px calc(100% - 100px),
        10px calc(100% - 80px),
        20px calc(100% - 80px),
        20px calc(100% - 60px),
        30px calc(100% - 60px),
        30px calc(100% - 50px),
        40px calc(100% - 50px),
        40px calc(100% - 40px),
        50px calc(100% - 40px),
        50px calc(100% - 30px),
        60px calc(100% - 30px),
        60px calc(100% - 20px),
        80px calc(100% - 20px),
        80px calc(100% - 10px),
        100px calc(100% - 10px),
        100px 100%,
        calc(100% - 100px) 100%,
        calc(100% - 100px) calc(100% - 10px),
        calc(100% - 80px) calc(100% - 10px),
        calc(100% - 80px) calc(100% - 20px),
        calc(100% - 60px) calc(100% - 20px),
        calc(100% - 60px) calc(100% - 30px),
        calc(100% - 50px) calc(100% - 30px),
        calc(100% - 50px) calc(100% - 40px),
        calc(100% - 40px) calc(100% - 40px),
        calc(100% - 40px) calc(100% - 50px),
        calc(100% - 30px) calc(100% - 50px),
        calc(100% - 30px) calc(100% - 60px),
        calc(100% - 20px) calc(100% - 60px),
        calc(100% - 20px) calc(100% - 80px),
        calc(100% - 10px) calc(100% - 80px),
        calc(100% - 10px) calc(100% - 100px),
        100% calc(100% - 100px),
        100% 100px,
        calc(100% - 10px) 100px,
        calc(100% - 10px) 80px,
        calc(100% - 20px) 80px,
        calc(100% - 20px) 60px,
        calc(100% - 30px) 60px,
        calc(100% - 30px) 50px,
        calc(100% - 40px) 50px,
        calc(100% - 40px) 40px,
        calc(100% - 50px) 40px,
        calc(100% - 50px) 30px,
        calc(100% - 60px) 30px,
        calc(100% - 60px) 20px,
        calc(100% - 80px) 20px,
        calc(100% - 80px) 10px,
        calc(100% - 100px) 10px,
        calc(100% - 100px) 0px,
        100px 0px,
        100px 10px,
        80px 10px,
        80px 20px,
        60px 20px,
        60px 30px,
        50px 30px,
        50px 40px,
        40px 40px,
        40px 50px,
        30px 50px,
        30px 60px,
        20px 60px,
        20px 80px,
        10px 80px,
        10px 100px,
        0px 100px
    )`,
  18: `polygon(
        0px calc(100% - 140px),
        10px calc(100% - 140px),
        10px calc(100% - 110px),
        20px calc(100% - 110px),
        20px calc(100% - 90px),
        30px calc(100% - 90px),
        30px calc(100% - 70px),
        40px calc(100% - 70px),
        40px calc(100% - 60px),
        50px calc(100% - 60px),
        50px calc(100% - 50px),
        60px calc(100% - 50px),
        60px calc(100% - 40px),
        70px calc(100% - 40px),
        70px calc(100% - 30px),
        90px calc(100% - 30px),
        90px calc(100% - 20px),
        110px calc(100% - 20px),
        110px calc(100% - 10px),
        140px calc(100% - 10px),
        140px 100%,
        calc(100% - 140px) 100%,
        calc(100% - 140px) calc(100% - 10px),
        calc(100% - 110px) calc(100% - 10px),
        calc(100% - 110px) calc(100% - 20px),
        calc(100% - 90px) calc(100% - 20px),
        calc(100% - 90px) calc(100% - 30px),
        calc(100% - 70px) calc(100% - 30px),
        calc(100% - 70px) calc(100% - 40px),
        calc(100% - 60px) calc(100% - 40px),
        calc(100% - 60px) calc(100% - 50px),
        calc(100% - 50px) calc(100% - 50px),
        calc(100% - 50px) calc(100% - 60px),
        calc(100% - 40px) calc(100% - 60px),
        calc(100% - 40px) calc(100% - 70px),
        calc(100% - 30px) calc(100% - 70px),
        calc(100% - 30px) calc(100% - 90px),
        calc(100% - 20px) calc(100% - 90px),
        calc(100% - 20px) calc(100% - 110px),
        calc(100% - 10px) calc(100% - 110px),
        calc(100% - 10px) calc(100% - 140px),
        100% calc(100% - 140px),
        100% 140px,
        calc(100% - 10px) 140px,
        calc(100% - 10px) 110px,
        calc(100% - 20px) 110px,
        calc(100% - 20px) 90px,
        calc(100% - 30px) 90px,
        calc(100% - 30px) 70px,
        calc(100% - 40px) 70px,
        calc(100% - 40px) 60px,
        calc(100% - 50px) 60px,
        calc(100% - 50px) 50px,
        calc(100% - 60px) 50px,
        calc(100% - 60px) 40px,
        calc(100% - 70px) 40px,
        calc(100% - 70px) 30px,
        calc(100% - 90px) 30px,
        calc(100% - 90px) 20px,
        calc(100% - 110px) 20px,
        calc(100% - 110px) 10px,
        calc(100% - 140px) 10px,
        calc(100% - 140px) 0px,
        140px 0px,
        140px 10px,
        110px 10px,
        110px 20px,
        90px 20px,
        90px 30px,
        70px 30px,
        70px 40px,
        60px 40px,
        60px 50px,
        50px 50px,
        50px 60px,
        40px 60px,
        40px 70px,
        30px 70px,
        30px 90px,
        20px 90px,
        20px 110px,
        10px 110px,
        10px 140px,
        0px 140px
    )`,
  24: `polygon(
        0px calc(100% - 190px),
        10px calc(100% - 190px),
        10px calc(100% - 160px),
        20px calc(100% - 160px),
        20px calc(100% - 150px),
        20px calc(100% - 130px),
        30px calc(100% - 130px),
        30px calc(100% - 120px),
        40px calc(100% - 120px),
        40px calc(100% - 110px),
        40px calc(100% - 100px),
        50px calc(100% - 100px),
        50px calc(100% - 90px),
        60px calc(100% - 90px),
        60px calc(100% - 80px),
        70px calc(100% - 80px),
        70px calc(100% - 70px),
        80px calc(100% - 70px),
        80px calc(100% - 60px),
        90px calc(100% - 60px),
        90px calc(100% - 50px),
        100px calc(100% - 50px),
        100px calc(100% - 40px),
        110px calc(100% - 40px),
        120px calc(100% - 40px),
        120px calc(100% - 30px),
        130px calc(100% - 30px),
        130px calc(100% - 20px),
        150px calc(100% - 20px),
        160px calc(100% - 20px),
        160px calc(100% - 10px),
        190px calc(100% - 10px),
        190px 100%,
        calc(100% - 190px) 100%,
        calc(100% - 190px) calc(100% - 10px),
        calc(100% - 160px) calc(100% - 10px),
        calc(100% - 160px) calc(100% - 20px),
        calc(100% - 150px) calc(100% - 20px),
        calc(100% - 130px) calc(100% - 20px),
        calc(100% - 130px) calc(100% - 30px),
        calc(100% - 120px) calc(100% - 30px),
        calc(100% - 120px) calc(100% - 40px),
        calc(100% - 110px) calc(100% - 40px),
        calc(100% - 100px) calc(100% - 40px),
        calc(100% - 100px) calc(100% - 50px),
        calc(100% - 90px) calc(100% - 50px),
        calc(100% - 90px) calc(100% - 60px),
        calc(100% - 80px) calc(100% - 60px),
        calc(100% - 80px) calc(100% - 70px),
        calc(100% - 70px) calc(100% - 70px),
        calc(100% - 70px) calc(100% - 80px),
        calc(100% - 60px) calc(100% - 80px),
        calc(100% - 60px) calc(100% - 90px),
        calc(100% - 50px) calc(100% - 90px),
        calc(100% - 50px) calc(100% - 100px),
        calc(100% - 40px) calc(100% - 100px),
        calc(100% - 40px) calc(100% - 110px),
        calc(100% - 40px) calc(100% - 120px),
        calc(100% - 30px) calc(100% - 120px),
        calc(100% - 30px) calc(100% - 130px),
        calc(100% - 20px) calc(100% - 130px),
        calc(100% - 20px) calc(100% - 150px),
        calc(100% - 20px) calc(100% - 160px),
        calc(100% - 10px) calc(100% - 160px),
        calc(100% - 10px) calc(100% - 190px),
        100% calc(100% - 190px),
        100% 190px,
        calc(100% - 10px) 190px,
        calc(100% - 10px) 160px,
        calc(100% - 20px) 160px,
        calc(100% - 20px) 150px,
        calc(100% - 20px) 130px,
        calc(100% - 30px) 130px,
        calc(100% - 30px) 120px,
        calc(100% - 40px) 120px,
        calc(100% - 40px) 110px,
        calc(100% - 40px) 100px,
        calc(100% - 50px) 100px,
        calc(100% - 50px) 90px,
        calc(100% - 60px) 90px,
        calc(100% - 60px) 80px,
        calc(100% - 70px) 80px,
        calc(100% - 70px) 70px,
        calc(100% - 80px) 70px,
        calc(100% - 80px) 60px,
        calc(100% - 90px) 60px,
        calc(100% - 90px) 50px,
        calc(100% - 100px) 50px,
        calc(100% - 100px) 40px,
        calc(100% - 110px) 40px,
        calc(100% - 120px) 40px,
        calc(100% - 120px) 30px,
        calc(100% - 130px) 30px,
        calc(100% - 130px) 20px,
        calc(100% - 150px) 20px,
        calc(100% - 160px) 20px,
        calc(100% - 160px) 10px,
        calc(100% - 190px) 10px,
        calc(100% - 190px) 0px,
        190px 0px,
        190px 10px,
        160px 10px,
        160px 20px,
        150px 20px,
        130px 20px,
        130px 30px,
        120px 30px,
        120px 40px,
        110px 40px,
        100px 40px,
        100px 50px,
        90px 50px,
        90px 60px,
        80px 60px,
        80px 70px,
        70px 70px,
        70px 80px,
        60px 80px,
        60px 90px,
        50px 90px,
        50px 100px,
        40px 100px,
        40px 110px,
        40px 120px,
        30px 120px,
        30px 130px,
        20px 130px,
        20px 150px,
        20px 160px,
        10px 160px,
        10px 190px,
        0px 190px`,
};

const pixelCornersPlugin = plugin(({ addUtilities, addComponents }) => {
  const utilities = Object.entries(pixelClipPaths).reduce(
    (acc, [radius, path]) => {
      acc[`.rounded-pixel-${radius}`] = { clipPath: path };
      return acc;
    },
    {} as Record<string, any>,
  );

  addUtilities(utilities);
});

/** @type {import('tailwindcss').Config} */
module.exports = {
  content: ["./app/**/*.{tsx,ts}"],
  theme: {
    extend: {
      colors: {
        accent: "#f56565",
        "accent-light": "#f67373",
        secondary: "#3c3c43",
        muted: "#6b6b70",
        "muted-light": "#ebebef",
        "muted-light-light": "#f6f6f7",
      },
    },
  },
  plugins: [pixelCornersPlugin],
};
